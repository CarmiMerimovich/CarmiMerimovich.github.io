<head>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script type="text/javascript" id="MathJax-script" async
      src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
    </script>
</head>
<body>
<script>
let block0 = "Let \\(A\\) be a set.";
let block = "Let \\(A\\) be a set. Let \\(F: \\mathfrak{P}(A) \\to  \\mathfrak{P}(A)\\) be a nondecreasing function.";

let v = [];
let state = 0;
let i = 0;
while (i < block.length) {
    console.log(i);
    if (block.substr(i,2) == "\\(") {
        state = 1;
        i += 2;
    };
    if (state == 0) {
        v.push(block.substring(0, i));
        i++;
    } else {
        v.push(block.substring(0, i) + "\\)");
        i++;
    }
    if (block.substr(i,2) == "\\)") {
        state = 0;
        i += 2;
    };
}
</script>
    <div id="destination">

    </div>

<script>
    let dst = document.getElementById("destination");

    let idx = 0;

    let id = setInterval(show, 500);

function show() {
    console.log("in: idx", idx);
    if (idx >= v.length) {
        cancelInterval(id);
        return;
    }
        dst.textContent = v[idx];
        MathJax.typeset();  
        idx = idx + 1;
       console.log("out: idx", idx);
}; 
</script>
</body>